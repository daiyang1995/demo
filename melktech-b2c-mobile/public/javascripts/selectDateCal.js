/*! melktech-pds-mobile 2018-05-31 */

"use strict";var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a};!function(){function a(a){this.calDate={},this.now=new Date,this.yearUnit=a.yearUnit?a.yearUnit:"年",this.monthUnit=a.monthUnit?a.monthUnit:"月",this.dayUnit=a.dayUnit?a.dayUnit:"日",this.startYear=a.startDate?a.startDate:this.now.getFullYear()-2,this.endYear=a.endDate?a.endDate:this.now.getFullYear()+2,this.status=a.status?a.status:-1,this.startMonth=a.startDateMonth&&0<a.startDateMonth?a.startDateMonth:1,this.startDay=a.startDateDay&&0<a.startDateDay?a.startDateDay:1,this.endMonth=a.endDateMonth&&0<a.endDateMonth?a.endDateMonth:12,this.endDay=a.endDateDay&&0<a.endDateDay?a.endDateDay:31,this.type=a.type&&[1,2].indexOf(a.type)?a.type:1,this.startHour=a.startDateHour&&0<=a.startDateHour&&a.startDateHour<24?a.startDateHour:0,this.endHour=a.endDateHour&&0<=a.endDateHour&&a.endDateHour<24?a.endDateHour:23,this.hourUnit=a.hourUnit?a.hourUnit:"时",this.init()}a.prototype={constructor:a,init:function(){var a=this;a.startYear>a.endYear&&(a.startYear=a.now.getFullYear()-2,a.endYear=a.now.getFullYear()+2,a.status=-1),-1===a.status?(4<a.endYear-a.startYear&&(a.endYear=a.startYear+4),a.CalDate.value=a.calculateDateAfter()):99===a.status?(a.endDay=a.checkDay(a.endYear,a.endMonth,a.endDay),a.calDate.value=a.calculateDateBefore()):99<a.status?(a.startDay=a.checkDay(a.startYear,a.startMonth,a.startDay),a.calDate.value=a.calculateDateAfter()):a.status<99&&(a.startDay=a.checkDay(a.startYear,a.startMonth,a.startDay),a.endDay=a.checkDay(a.endYear,a.endMonth,a.endDay),a.calDate.value=a.calculateDateBetween())},getValue:function(){return this.calDate.value},calculateDateAfter:function(){var a=this;return a.endMonth=12,a.endDay=31,a.calculateDateBetween()},calculateDateBefore:function(){var a=this;return a.startMonth=1,a.startDay=1,a.calculateDateBetween()},calculateDateBetween:function(){var a=this,e=[],t={},c={},s=a.calculateFullDay(31),r=a.calculateFullDay(30),l=a.checkLeapYear(a.startYear)?a.calculateFullDay(29):a.calculateFullDay(28),n=a.checkLeapYear(a.endYear)?a.calculateFullDay(29):a.calculateFullDay(28);if(a.startYear==a.endYear){if(t.id=a.startYear+"",t.value=a.startYear+a.yearUnit,t.childs=[],a.startMonth==a.endMonth){var u=a.startMonth<10?"0"+a.startMonth:a.startMonth+"",h={};h.id=u,h.value=u+a.monthUnit;var i=a.endDay==a.startDay;switch(u){case"01":case"03":case"05":case"07":case"08":case"10":case"12":h.childs=a.calculateFullDay(a.endDay,a.startDay,a.startHour,a.endHour,i);break;case"04":case"06":case"09":case"11":h.childs=a.calculateFullDay(a.endDay,a.startDay,a.startHour,a.endHour,i);break;case"02":h.childs=a.calculateFullDay(a.checkLeapYear(a.endYear)?a.endDay<29?a.endDay:29:a.endDay<28?a.endDay:28,a.startDay,a.startHour,a.endHour,i)}return t.childs.push(h),e.push(t),e}var o=a.startMonth<10?"0"+a.startMonth:a.startMonth+"",d={};switch(d.id=o,d.value=o+a.monthUnit,o){case"01":case"03":case"05":case"07":case"08":case"10":case"12":d.childs=a.calculateFullDay(31,a.startDay,a.startHour,23);break;case"04":case"06":case"09":case"11":d.childs=a.calculateFullDay(30,a.startDay,a.startHour,23);break;case"02":d.childs=a.calculateFullDay(a.checkLeapYear(a.startYear)?29:28,a.startDay,a.startHour,23)}t.childs.push(d);for(var D=a.startMonth+1;D<a.endMonth;D++){var y={},v=D+"";switch(D<10&&(v="0"+v),y.id=v,y.value=v+a.monthUnit,v){case"01":case"03":case"05":case"07":case"08":case"10":case"12":y.childs=s;break;case"04":case"06":case"09":case"11":y.childs=r;break;case"02":y.childs=l}t.childs.push(y)}var f=a.endMonth<10?"0"+a.endMonth:a.endMonth+"",Y={};switch(Y.id=f,Y.value=f+a.monthUnit,f){case"01":case"03":case"05":case"07":case"08":case"10":case"12":Y.childs=a.calculateFullDay(a.endDay,1,0,a.endHour);break;case"04":case"06":case"09":case"11":Y.childs=a.calculateFullDay(a.endDay,1,0,a.endHour);break;case"02":Y.childs=a.calculateFullDay(a.checkLeapYear(a.endYear)?a.endDay<29?a.endDay:29:a.endDay<28?a.endDay:28,1,0,a.endHour)}return t.childs.push(Y),e.push(t),e}t.id=a.startYear+"",t.value=a.startYear+a.yearUnit,t.childs=[];var p={},F=a.startMonth<10?"0"+a.startMonth:a.startMonth+"";switch(p.id=F,p.value=F+a.monthUnit,F){case"01":case"03":case"05":case"07":case"08":case"10":case"12":p.childs=a.calculateFullDay(31,a.startDay,a.startHour,23);break;case"04":case"06":case"09":case"11":p.childs=a.calculateFullDay(30,a.startDay,a.startHour,23);break;case"02":p.childs=a.calculateFullDay(a.checkLeapYear(a.startYear)?29:28,a.startDay,a.startHour,23)}t.childs.push(p);for(var M=a.startMonth+1;M<13;M++){var k={},H=M+"";switch(M<10&&(H="0"+H),k.id=H,k.value=H+a.monthUnit,H){case"01":case"03":case"05":case"07":case"08":case"10":case"12":k.childs=s;break;case"04":case"06":case"09":case"11":k.childs=r;break;case"02":k.childs=l}t.childs.push(k)}e.push(t),c.id=a.endYear+"",c.value=a.endYear+a.yearUnit,c.childs=[];for(var U=1;U<a.endMonth;U++){var b={},w=U+"";switch(U<10&&(w="0"+w),b.id=w,b.value=w+a.monthUnit,w){case"01":case"03":case"05":case"07":case"08":case"10":case"12":b.childs=s;break;case"04":case"06":case"09":case"11":b.childs=r;break;case"02":b.childs=n}c.childs.push(b)}var m={},g=a.endMonth<10?"0"+a.endMonth:a.endMonth+"";switch(m.id=g,m.value=g+a.monthUnit,g){case"01":case"03":case"05":case"07":case"08":case"10":case"12":m.childs=a.calculateFullDay(a.endDay,1,0,a.endHour);break;case"04":case"06":case"09":case"11":m.childs=a.calculateFullDay(a.endDay,1,0,a.endHour);break;case"02":m.childs=a.calculateFullDay(a.checkLeapYear(a.endYear)?a.endDay<29?a.endDay:29:a.endDay<28?a.endDay:28,1,0,a.endHour)}c.childs.push(m);var L=a.startYear+1;if(L<a.endYear)for(var B=a.calculateFullYearMonth(!0),S=a.calculateFullYearMonth(!1),x=L;x<a.endYear;x++){var A={};A.id=x+"",A.value=x+a.yearUnit,A.childs=a.checkLeapYear(x)?B:S,e.push(A)}return e.push(c),e},checkDay:function(a,e,t){if(31<=t)switch(e+""){case"4":case"6":case"9":case"11":t=30;break;case"2":t=this.checkLeapYear(a)?29:28;break;default:t=31}else 30!==t&&29!==t||(t=2===e?this.checkLeapYear(a)?29:28:t);return t},checkLeapYear:function(a){return a%4==0&&a%100!=0||a%400==0},calculateFullHour:function(){for(var a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:23,t=this.hourUnit,c=[],s=a;s<=e;s++){var r={},l=s<10?"0"+s:""+s;r.id=l,r.value=l+t,c.push(r)}return c},calculateFullDay:function(){for(var a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:31,e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1,t=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,c=3<arguments.length&&void 0!==arguments[3]?arguments[3]:23,s=4<arguments.length&&void 0!==arguments[4]&&arguments[4],r=this,l=r.dayUnit,n=r.type,u=r.hourUnit,h=[],i=e;i<=a;i++){var o=i+"";i<10&&(o="0"+o);var d={};d.id=o,d.value=o+l,1!=n&&(d.childs=a==e&&s?r.calculateFullHour(t,c,u):i==e?r.calculateFullHour(t,23,u):i==a?r.calculateFullHour(0,c,u):r.calculateFullHour(0,23,u)),h.push(d)}return h},calculateFullYearMonth:function(){var a=0<arguments.length&&void 0!==arguments[0]&&arguments[0],e=this,t=(e.dayUnit,e.monthUnit),c=e.calculateFullDay(31),s=e.calculateFullDay(30),r=void 0;r=a?e.calculateFullDay(29):e.calculateFullDay(28);for(var l=[],n=1;n<13;n++){var u={},h=n+"";switch(n<10&&(h="0"+h),u.id=h,u.value=h+t,h){case"01":case"03":case"05":case"07":case"08":case"10":case"12":u.childs=c;break;case"04":case"06":case"09":case"11":u.childs=s;break;case"02":u.childs=r}l.push(u)}return l}},"object"===("undefined"==typeof exports?"undefined":_typeof(exports))?module.exports=a:"function"==typeof define&&define.amd?define([],function(){return a}):window.CalDate=a}();
/*! melktech-pds-mobile 最后修改于： 2018-05-31 */